SELECT SP.SALES_ID
	 , SP.SALES_DATE
	 , E.EMP_NAME
	 , C.CUST_NAME
	 , P.PROD_NAME
	 , P.CATEGORY
	 , SP.QTY
	 , SP.UNIT_PRICE
	 , SP.NET_AMOUNT
	 , SP.COST_AMOUNT
	 , CG.CODE_NAME		AS SALES_STATUS
	 , PM.CODE_NAME		AS PAY_METHOD
	 , SP.REMARKS
	 , SP.EMP_ID
	 , SP.CUST_ID
	 , SP.PROD_ID
  FROM SM_SALES_PERFORMANCE	SP
  LEFT JOIN SM_EMPLOYEE E
	ON SP.EMP_ID = E.EMP_ID
  LEFT JOIN SM_CUSTOMER C
	ON SP.CUST_ID = C.CUST_ID
  LEFT JOIN SM_PRODUCT P
	ON SP.PROD_ID = P.PROD_ID
  LEFT JOIN SM_COMMON_CODE CG
	ON CG.GROUP_CD = 'SALES_STATUS'
   AND SP.SALES_STATUS = CG.CODE
  LEFT JOIN SM_COMMON_CODE PM
	ON PM.GROUP_CD = 'PAY_METHOD'
   AND SP.PAY_METHOD = PM.CODE
 WHERE 1=1
   AND SP.SALES_DATE BETWEEN @:VS_YMD_FROM AND @:VS_YMD_TO
   AND SP.CUST_ID IN (@:VS_CUST_IDS)
   AND SP.EMP_ID IN (@:VS_PIC)
   AND SP.SALES_STATUS IN (@:VS_STATUS)
 ORDER BY SP.SALES_DATE DESC, SP.SALES_ID
