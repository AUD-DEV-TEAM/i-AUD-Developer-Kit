SELECT
    COUNT(CASE WHEN ACHV_RATE >= 1.2 THEN 1 END) AS CNT_OVER_1_2,
    COUNT(CASE WHEN ACHV_RATE >= 1.0 AND ACHV_RATE < 1.2 THEN 1 END) AS CNT_1_0_TO_1_2,
    COUNT(CASE WHEN ACHV_RATE >= 0.8 AND ACHV_RATE < 1.0 THEN 1 END) AS CNT_0_8_TO_1_0,
    COUNT(CASE WHEN ACHV_RATE < 0.8 THEN 1 END) AS CNT_UNDER_0_8
FROM (
    SELECT
         E.EMP_ID
       , SUM(PERF.NET_AMOUNT) / NULLIF(SUM(PLN.TARGET_AMT), 0) AS ACHV_RATE
      FROM SM_SALES_PERFORMANCE PERF
      LEFT JOIN SM_SALES_PLAN PLN
        ON PLN.PROD_ID = PERF.PROD_ID
      LEFT JOIN SM_EMPLOYEE E
        ON PERF.EMP_ID = E.EMP_ID
     GROUP BY E.EMP_ID
) T;